# Belief and Deity System

> **Design Philosophy**: The divine is defined from below, not above. Gods do not impose identity onto believers—believers project identity onto gods. The player discovers who they are through the stories told about them.

## Table of Contents

1. [Core Concepts](#core-concepts)
2. [The Belief Resource](#the-belief-resource)
3. [Deity Architecture](#deity-architecture)
4. [The Player God](#the-player-god)
5. [Emergent Gods](#emergent-gods)
6. [Myth Generation](#myth-generation)
7. [Divine Powers](#divine-powers)
8. [Avatar Manifestation](#avatar-manifestation)
9. [Angels and Divine Agents](#angels-and-divine-agents)
10. [Religious Institutions](#religious-institutions)
11. [Theological Dynamics](#theological-dynamics)
12. [Integration with Existing Systems](#integration-with-existing-systems)
13. [Implementation Phases](#implementation-phases)

---

## Core Concepts

### The Fundamental Inversion

Traditional god games place the player as an omniscient, fully-defined deity imposing will downward onto subjects. This system inverts that relationship:

- **Gods are undefined** until believers define them
- **Identity flows upward** from believers to deity
- **Power comes from belief**, not inherent divinity
- **History is written by agents**, creating canonical divine identity
- **The player discovers** who they are through the lens of worship

### Key Design Principles

1. **Emergence Over Design**: Gods form from emergent storytelling, not developer placement
2. **Belief as Currency**: All divine power derives from accumulated belief
3. **Narrative Truth**: What agents believe and write becomes true for the deity
4. **Theological Ecology**: Multiple gods compete, cooperate, and interact
5. **Meaningful Consequences**: Divine actions have lasting narrative weight

---

## The Belief Resource

Belief is the fundamental resource of the divine economy. It is generated by agents, accumulated by deities, and spent on divine actions.

### Belief Generation

Agents generate belief through religious activity. Belief generation rate depends on:

```typescript
interface BeliefGeneration {
  // Base factors
  faith: number;              // Agent's faith level (0-1)
  devotionTime: number;       // Time spent in religious activity
  activityType: BeliefActivity;

  // Modifiers
  sacredSiteBonus: number;    // Bonus from praying at temples
  communalBonus: number;      // Bonus from group worship
  fervorMultiplier: number;   // Increases during crises, miracles

  // Output
  beliefPerTick: number;      // Actual belief generated
}

type BeliefActivity =
  | 'passive_faith'       // Just existing as a believer (lowest)
  | 'prayer'              // Active prayer
  | 'meditation'          // Deep communion
  | 'ritual'              // Formal ceremony
  | 'sacrifice'           // Giving up something valuable
  | 'pilgrimage'          // Journey to sacred site
  | 'proselytizing'       // Converting others
  | 'creation'            // Creating religious art/texts
  | 'miracle_witness';    // Witnessing divine action (highest)
```

### Belief Flow Rates

| Activity | Base Belief/Hour | Notes |
|----------|------------------|-------|
| Passive Faith | 0.01 | Just existing as a believer |
| Prayer | 0.1 | Standard prayer activity |
| Meditation | 0.15 | Requires uninterrupted time |
| Ritual | 0.3 | Requires sacred site, multiple agents |
| Sacrifice | 0.5-2.0 | Scales with sacrifice value |
| Pilgrimage | 1.0 | One-time bonus on arrival |
| Proselytizing | 0.2 + converts | Bonus for successful conversions |
| Creation | 0.5 | Writing texts, building shrines |
| Miracle Witness | 5.0 | Massive one-time boost |

### Belief Storage

```typescript
interface DeityBeliefState {
  // Current reserves
  currentBelief: number;

  // Income tracking
  beliefPerTick: number;        // Current generation rate
  peakBeliefRate: number;       // Historical maximum

  // Historical
  totalBeliefEarned: number;    // Lifetime accumulation
  totalBeliefSpent: number;     // Lifetime expenditure

  // Thresholds (see Divine Powers section)
  manifestationThreshold: number;
  avatarThreshold: number;

  // Decay
  decayRate: number;            // Belief lost per tick without activity
  lastActivityTime: number;
}
```

### Belief Decay

Gods require active worship to maintain power. Without believers generating new belief:

- **Decay Rate**: 0.1% of current belief per game hour
- **Accelerated Decay**: 0.5% if no prayers received in 24 hours
- **Critical Decay**: 2% if no believers remain (god is "forgotten")
- **Minimum Floor**: Gods with written history never fully disappear (see Myth Persistence)

---

## Deity Architecture

### Deity Entity Structure

```typescript
interface Deity {
  id: string;

  // ========================================
  // Identity (emergent, not designed)
  // ========================================
  identity: DeityIdentity;

  // ========================================
  // Belief & Power
  // ========================================
  belief: DeityBeliefState;

  // ========================================
  // Relationships
  // ========================================
  believers: BelieverRelation[];
  angels: string[];              // Entity IDs of divine agents
  rivalries: DeityRelation[];    // Relationships with other gods

  // ========================================
  // Physical Presence
  // ========================================
  avatar?: AvatarState;
  sacredSites: string[];         // Building IDs of temples

  // ========================================
  // Divine History
  // ========================================
  mythology: Mythology;

  // ========================================
  // Control
  // ========================================
  controller: DeityController;   // 'player' | 'ai' | 'dormant'
}
```

### Deity Identity

The identity of a god is not pre-defined—it emerges from believer interpretation:

```typescript
interface DeityIdentity {
  // ========================================
  // Core Traits (filled by emergent stories)
  // ========================================

  /** Primary name (first name given by believers) */
  primaryName: string;

  /** Alternative names/epithets */
  epithets: string[];

  /** Primary domain (what believers think god controls) */
  domain: DivineDomain;

  /** Secondary domains (accumulated through stories) */
  secondaryDomains: DivineDomain[];

  /** Personality as perceived by believers */
  perceivedPersonality: PerceivedPersonality;

  /** Moral alignment as perceived */
  perceivedAlignment: MoralAlignment;

  // ========================================
  // Appearance (visualized by believers)
  // ========================================

  /** Described physical form (for art, visions) */
  describedForm: string;

  /** Sacred symbols associated with deity */
  symbols: string[];

  /** Sacred colors */
  colors: string[];

  /** Sacred animals */
  sacredAnimals: string[];

  // ========================================
  // Confidence Levels
  // ========================================

  /** How established is each identity aspect? */
  traitConfidence: Map<string, number>;  // 0-1
}

type DivineDomain =
  | 'harvest'      // Crops, fertility
  | 'war'          // Conflict, strength
  | 'wisdom'       // Knowledge, guidance
  | 'craft'        // Creation, building
  | 'nature'       // Animals, plants, weather
  | 'death'        // Afterlife, endings
  | 'love'         // Relationships, bonds
  | 'chaos'        // Change, unpredictability
  | 'order'        // Law, stability
  | 'fortune'      // Luck, prosperity
  | 'protection'   // Safety, defense
  | 'healing'      // Health, restoration
  | 'mystery'      // Unknown, magic
  | 'time'         // Seasons, cycles
  | 'sky'          // Weather, celestial
  | 'earth'        // Stone, mountains
  | 'water';       // Seas, rain

interface PerceivedPersonality {
  // These are what believers THINK the god is like
  // Based on divine actions and story interpretations

  benevolence: number;      // -1 (cruel) to 1 (kind)
  interventionism: number;  // -1 (distant) to 1 (involved)
  wrathfulness: number;     // 0 (patient) to 1 (quick to anger)
  mysteriousness: number;   // 0 (clear) to 1 (inscrutable)
  generosity: number;       // 0 (demanding) to 1 (giving)
  consistency: number;      // 0 (capricious) to 1 (reliable)
}

type MoralAlignment =
  | 'benevolent'    // Perceived as good
  | 'malevolent'    // Perceived as evil
  | 'neutral'       // Perceived as beyond morality
  | 'dualistic'     // Perceived as both good and evil
  | 'unknown';      // Not enough data
```

### Identity Formation Process

1. **Initial Seeding**: First believers' personalities influence initial perception
2. **Action Interpretation**: Divine actions are interpreted through cultural lens
3. **Story Accumulation**: Each myth adds or modifies identity traits
4. **Consensus Building**: Traits become "canon" when written/widely believed
5. **Trait Lock-In**: High-confidence traits become difficult to change

---

## The Player God

The player is a special deity with unique properties.

### Player God Initialization

```typescript
interface PlayerGod extends Deity {
  controller: 'player';

  // Player-specific
  playerInput: PlayerInputState;

  // The player starts UNDEFINED
  identity: DeityIdentity & {
    // All traits start at low confidence
    // Believers will fill these in
    initiallyBlank: true;
  };
}
```

### The Blank Slate

When the game begins:

1. Player god has **no defined traits**
2. First believers are created with random personalities
3. Those personalities influence **initial perceptions** of the player god
4. Player's first actions are **interpreted** through that lens
5. Stories begin to **accumulate** defining who the player is

### Player Bio Screen

The player can view their emerging identity:

```
╔══════════════════════════════════════════════════════════════╗
║                    YOUR DIVINE IDENTITY                       ║
╠══════════════════════════════════════════════════════════════╣
║                                                               ║
║  Name: The Watcher in Green                                   ║
║  (Also called: The Silent One, Keeper of Harvests)            ║
║                                                               ║
║  Domain: Nature (67% confidence)                              ║
║  Secondary: Harvest (45%), Mystery (32%)                      ║
║                                                               ║
║  Your followers believe you are:                              ║
║  ├─ Benevolent    [████████░░] 78%                            ║
║  ├─ Distant       [██████░░░░] 61%                            ║
║  ├─ Patient       [███████░░░] 72%                            ║
║  ├─ Mysterious    [█████████░] 89%                            ║
║  └─ Generous      [█████░░░░░] 52%                            ║
║                                                               ║
║  Your form (as they imagine):                                 ║
║  "A figure cloaked in leaves and shadow, with eyes           ║
║   like morning dew. They speak rarely, but when they          ║
║   do, the crops grow tall."                                   ║
║                                                               ║
║  Sacred symbols: Oak leaf, Still water, The crescent moon     ║
║                                                               ║
║  RECENT STORIES ABOUT YOU:                                    ║
║  ├─ "The Dream of Farmer Holt" (added trait: Patient)         ║
║  ├─ "Why the River Changed Course" (debated, -5% cruel)       ║
║  └─ "The Blessing of the First Harvest" (domain: Harvest)     ║
║                                                               ║
║  [View Full Mythology] [Recent Actions] [Belief Stats]        ║
╚══════════════════════════════════════════════════════════════╝
```

### Beating the Allegations

When the player does something that conflicts with their established identity:

1. **Event occurs**: Player causes harm (e.g., lightning strikes village)
2. **Witnesses interpret**: Based on context, personality, existing beliefs
3. **Stories form**: Negative stories may emerge
4. **Trait shift begins**: "Cruel" trait starts accumulating
5. **Written history**: If story gets written down, it becomes harder to undo

**Reputation Recovery**:

```typescript
interface ReputationRecovery {
  // Difficulty scales with how entrenched the negative story is
  difficulty: number;  // Based on:
  //   - Number of believers who know the story
  //   - Whether it's written in a book
  //   - Time since the event
  //   - Severity of the action

  recoveryMethods: RecoveryMethod[];
}

type RecoveryMethod =
  | 'counter_miracle'      // Do something dramatically positive
  | 'revelation'           // Send vision explaining your actions
  | 'prophet_reframe'      // Inspire a religious leader to reinterpret
  | 'new_story'            // Crowd out with better stories
  | 'time'                 // Wait for old believers to die
  | 'blame_angel';         // Claim it was a rogue angel
```

---

## Emergent Gods

Gods can spontaneously form from collective belief without player action.

### Emergence Triggers

```typescript
interface EmergenceCondition {
  trigger: EmergenceTrigger;
  threshold: number;

  // What kind of god emerges
  likelyDomains: DivineDomain[];
  personalityInfluences: string[];
}

type EmergenceTrigger =
  | 'shared_trauma'        // Multiple agents experience same hardship
  | 'shared_prosperity'    // Group success attributed to unseen force
  | 'natural_phenomenon'   // Repeated natural events (storms, earthquakes)
  | 'cultural_divergence'  // Schism from existing religion
  | 'prophet_vision'       // Charismatic agent claims new revelation
  | 'ancestor_elevation'   // Deceased hero elevated to divine status
  | 'fear_manifestation'   // Collective fear creates malevolent god
  | 'artistic_creation';   // Artist creates compelling deity in fiction
```

### Emergence Process

```
PHASE 1: PROTO-BELIEF
├── Multiple agents independently develop similar superstitions
├── "The storms always come from the north..."
├── "When the harvest is bad, it's because we angered something..."
└── No coherent deity yet, just shared patterns

PHASE 2: COALESCENCE
├── Agents begin sharing interpretations
├── Stories start referring to a common entity
├── "The North Wind" gets personified
├── First name is given
└── Threshold: 3+ agents, 100+ shared belief points

PHASE 3: CRYSTALLIZATION
├── Deity entity is created in the system
├── LLM generates initial personality based on source beliefs
├── First prophet may emerge (high-faith agent who "heard" the new god)
├── Deity begins accumulating belief directly
└── Threshold: 10+ believers, 500+ belief points

PHASE 4: ESTABLISHMENT
├── Stories are written down
├── Sacred sites may be designated
├── Rituals develop
├── God can now act (if AI-controlled)
└── Threshold: 50+ believers OR written texts
```

### AI God Personality Generation

When a new god crystallizes, the LLM generates their personality:

```typescript
interface AIGodGeneration {
  input: {
    // The conditions that created this god
    emergenceTrigger: EmergenceTrigger;

    // The agents who first believed
    originalBelievers: AgentPersonality[];

    // The stories that created them
    foundingStories: string[];

    // The domain they've been associated with
    inferredDomain: DivineDomain;

    // Existing gods (for differentiation)
    existingPantheon: Deity[];
  };

  output: {
    // Generated personality
    personality: PerceivedPersonality;

    // Goals this god will pursue
    goals: DeityGoal[];

    // How they feel about other gods
    initialRelationships: DeityRelation[];

    // Communication style
    voiceCharacter: string;  // For visions/prophecies
  };
}
```

### AI God Behavior

AI-controlled gods have goals and take actions:

```typescript
interface DeityGoal {
  type: GoalType;
  priority: number;

  // What the god wants
  target: string;       // Entity, location, state
  desiredOutcome: string;

  // How they'll pursue it
  preferredMethods: DivineAction[];

  // Constraints
  beliefCost: number;   // What they're willing to spend
  moralBoundary: number; // How far they'll go (0-1)
}

type GoalType =
  | 'expand_worship'      // Get more believers
  | 'protect_faithful'    // Keep believers safe
  | 'punish_heresy'       // Harm those who reject them
  | 'territorial'         // Claim sacred sites
  | 'rivalry'             // Oppose specific god
  | 'alliance'            // Support specific god
  | 'domain_expression'   // Act according to domain (storms for storm god)
  | 'artifact_quest'      // Want something created/retrieved
  | 'prophecy';           // Fulfill or create prophecy
```

---

## Myth Generation

Mythology is generated procedurally through LLM interpretation of events.

### Story Creation Pipeline

```
EVENT OCCURS
     │
     ▼
WITNESS INTERPRETATION
├── Agent personality affects interpretation
├── Existing beliefs filter perception
├── Emotional state colors memory
└── Output: Raw interpretive memory
     │
     ▼
NARRATIVE FORMATION
├── Agent may tell story to others
├── Story mutates with retelling
├── Dramatic elements emphasized
├── Contradictions resolved (or not)
└── Output: Oral tradition version
     │
     ▼
CANONIZATION (optional)
├── Story written in book/carved in stone
├── Fixed version becomes reference
├── Harder to contradict
└── Output: Written myth
     │
     ▼
TRAIT EXTRACTION
├── System analyzes story for deity traits
├── Confidence adjustments applied
├── Identity updated
└── Output: Updated DeityIdentity
```

### Myth Structure

```typescript
interface Myth {
  id: string;
  title: string;

  // Content
  fullText: string;            // LLM-generated narrative
  summary: string;             // Brief version

  // Origin
  originalEvent?: string;      // Event ID that inspired this
  originalWitness?: string;    // Agent who first interpreted
  currentVersion: number;      // How many times retold/modified

  // Spread
  knownBy: string[];           // Agent IDs
  writtenIn: string[];         // Book item IDs
  carvedAt: string[];          // Building IDs (temples, monuments)

  // Impact
  traitImplications: TraitImplication[];
  domainRelevance: Map<DivineDomain, number>;

  // Metadata
  creationTime: number;
  lastToldTime: number;
  tellingCount: number;

  // Theological status
  status: MythStatus;
  contestedBy: string[];       // Agent IDs who dispute this
}

interface TraitImplication {
  trait: string;               // Which aspect of identity
  direction: 'positive' | 'negative';
  strength: number;            // How much this story suggests the trait
  extractedFrom: string;       // Quote from story
}

type MythStatus =
  | 'oral'           // Only spoken, not written
  | 'recorded'       // Written but not official
  | 'canonical'      // Widely accepted as true
  | 'disputed'       // Actively debated
  | 'apocryphal'     // Rejected by mainstream
  | 'heretical';     // Forbidden/suppressed
```

### LLM Myth Generation

When an event needs to become a story:

```typescript
interface MythGenerationPrompt {
  // What happened
  event: {
    type: string;
    participants: string[];
    outcome: string;
    divineInvolvement?: string;
  };

  // Who's telling it
  narrator: {
    personality: AgentPersonality;
    faithLevel: number;
    existingBeliefs: string[];
    emotionalState: string;
  };

  // Context
  audience?: string;           // Who they're telling
  purpose?: string;            // Why they're telling
  existingMyths: string[];     // For consistency

  // Constraints
  maxLength: number;
  style: 'oral' | 'formal' | 'poetic';
}

// Example output:
/*
"Let me tell you of the day the river changed its course.

Old Farmer Holt had prayed for three days straight, his crops
dying in the drought. On the fourth morning, he woke to find
the stream had bent—actually bent!—toward his fields.

Now some say it was just the soil giving way, but I know
better. I saw Holt's face when he walked to that new
riverbank. He didn't look surprised. He looked *grateful*.

The Watcher heard him. They always hear us, even when
they don't answer. And sometimes... sometimes they do
answer, in ways we don't expect."

Extracted implications:
- Domain: Water (+0.15 confidence)
- Trait: benevolent (+0.08)
- Trait: mysterious (+0.05) - "ways we don't expect"
- Trait: interventionist (+0.1) - but indirect
*/
```

### Story Mutation

Stories change as they're retold:

```typescript
interface StoryMutation {
  mutationTypes: MutationType[];

  // Probability based on:
  narratorPersonality: string;
  timeSinceOriginal: number;
  retellingCount: number;
}

type MutationType =
  | 'dramatization'      // Events become more dramatic
  | 'simplification'     // Details lost
  | 'moralization'       // Moral lesson added
  | 'personalization'    // Narrator inserts themselves
  | 'merger'             // Combined with other story
  | 'inversion'          // Good becomes bad or vice versa
  | 'attribution'        // Credit moved to different deity
  | 'localization';      // Settings changed to local places
```

---

## Divine Powers

What gods can DO with accumulated belief.

### Power Cost Table

| Power | Belief Cost | Description | Visibility |
|-------|-------------|-------------|------------|
| **MINOR** ||||
| Subtle Sign | 5 | Small coincidence (bird flies overhead) | Low |
| Dream Whisper | 10 | Single word/image in dream | Low |
| Feeling | 15 | Emotional nudge (sense of peace/warning) | None |
| **MODERATE** ||||
| Vision | 50 | Clear visual message in meditation | Medium |
| Answered Prayer | 75 | Direct response to specific prayer | Medium |
| Minor Miracle | 100 | Small physical effect (plant blooms) | High |
| Weather Nudge | 150 | Slight weather modification | Medium |
| **MAJOR** ||||
| Prophecy | 200 | Clear future vision | High |
| Major Miracle | 500 | Obvious supernatural event | Very High |
| Probability Shift | 300 | Affect luck for an agent | Hidden |
| Healing | 400 | Cure illness/injury | High |
| Creation (Small) | 600 | Create a new plant species | Very High |
| **AVATAR** ||||
| Avatar Maintenance | 100/hour | Keep avatar manifested | Very High |
| Avatar Creation | 5000 | Initial avatar manifestation | Extreme |
| **ANGEL** ||||
| Angel Creation | 2000 | Create a new divine agent | Very High |
| Angel Maintenance | 50/hour | Keep angel active | Medium |
| **WORLD-SHAPING** ||||
| Terrain Modification | 1000 | Move a hill, create a spring | Extreme |
| Species Creation | 3000 | New animal species | Extreme |
| Mass Vision | 800 | Vision to all believers at once | Very High |

### Power Implementation

```typescript
interface DivinePower {
  id: string;
  name: string;
  domain?: DivineDomain;       // Some powers require domain

  // Costs
  beliefCost: number;
  cooldown?: number;           // Min time between uses

  // Requirements
  minBelievers?: number;
  minFaith?: number;           // Average faith of believers
  requiresSacredSite?: boolean;
  requiresAvatar?: boolean;

  // Effects
  execute: (deity: Deity, target: Entity, params: object) => PowerResult;

  // Narrative
  visibilityLevel: 'hidden' | 'subtle' | 'visible' | 'dramatic' | 'world_shaking';
  mythogenicPotential: number;  // How likely to generate stories (0-1)
}

interface PowerResult {
  success: boolean;
  beliefSpent: number;

  // Effects
  effectsApplied: Effect[];

  // Narrative generation
  witnessedBy: string[];       // Agent IDs
  storyPotential: number;      // Likelihood of myth generation
  suggestedTraits: TraitImplication[];
}
```

### Domain-Specific Powers

Gods with established domains get discounted/enhanced powers:

```typescript
interface DomainPowerBonus {
  domain: DivineDomain;
  powers: {
    powerId: string;
    costMultiplier: number;    // 0.5 = half cost
    effectMultiplier: number;  // 1.5 = 50% stronger
  }[];
}

// Example: Nature domain
const natureDomain: DomainPowerBonus = {
  domain: 'nature',
  powers: [
    { powerId: 'plant_growth', costMultiplier: 0.5, effectMultiplier: 1.5 },
    { powerId: 'species_creation', costMultiplier: 0.7, effectMultiplier: 1.2 },
    { powerId: 'weather_control', costMultiplier: 0.8, effectMultiplier: 1.1 },
    // But war powers cost MORE
    { powerId: 'smite', costMultiplier: 2.0, effectMultiplier: 0.5 },
  ]
};
```

---

## Avatar Manifestation

Physical forms that gods can inhabit.

### Avatar Requirements

```typescript
interface AvatarRequirements {
  // Minimum belief to create avatar
  creationThreshold: 5000;

  // Ongoing cost to maintain
  maintenancePerHour: 100;

  // Faith requirements
  minBelievers: 20;
  minAverageFaith: 0.6;

  // Narrative requirements
  formMustBeDescribed: true;   // Believers must have imagined form
  formConfidence: 0.5;         // How agreed-upon the form is
}
```

### Avatar Capabilities

```typescript
interface AvatarState {
  active: boolean;

  // Physical presence
  position: Position;
  form: AvatarForm;

  // Capabilities
  canSpeak: boolean;
  canInteract: boolean;
  canCarryItems: boolean;

  // Limitations
  movementSpeed: number;       // Slower than normal entities
  interactionRange: number;
  visibilityRadius: number;    // All agents within range KNOW this is a god

  // Belief effects
  passiveBeliefGeneration: number;  // Just existing generates belief
  faithBoostRadius: number;         // Nearby believers gain faith

  // Duration
  manifestationTime: number;
  beliefRemaining: number;     // Maintenance draws from this
}

interface AvatarForm {
  // Based on believer descriptions
  baseDescription: string;

  // Physical properties
  height: number;
  luminosity: number;          // 0 = normal, 1 = glowing
  solididity: number;          // 0 = ghostly, 1 = fully physical

  // Appearance elements from mythology
  distinctiveFeatures: string[];
  sacredSymbolsVisible: string[];
  auraColor?: string;
}
```

### Avatar Interactions

When an avatar interacts with agents:

1. **Recognition**: Agents with faith recognize the deity immediately
2. **Awe Effect**: Nearby agents experience awe (mood modifier)
3. **Faith Surge**: Witnesses gain significant faith
4. **Myth Creation**: Any interaction is likely to become a story
5. **Direct Communication**: Avatar can speak directly to agents

```typescript
interface AvatarInteraction {
  type: 'speech' | 'touch' | 'gift' | 'task' | 'blessing' | 'punishment';

  target: string;              // Agent ID
  content: string;             // What was said/done

  effects: {
    faithChange: number;
    moodChange: number;
    memoryCreated: boolean;
    storyGenerated: boolean;
  };
}
```

---

## Divine Servants (Emergent Hierarchies)

> **Core Principle**: There is no universal "angel" template. Each deity invents their own servant types based on their identity, domain, and cultural context. This allows for Valkyries, grain spirits, cosmic horrors, animal messengers, or completely alien servitors.

### Emergent Servant Design

Each god's servants are unique to that god. Players can design their own servant types, and LLM-controlled gods generate their own hierarchies:

```typescript
/** A template for a type of divine servant (deity-specific) */
interface ServantTemplate {
  id: string;
  deityId: string;                    // Which deity owns this template

  // Naming
  typeName: string;                   // "Valkyrie", "Grain Spirit", "Watcher"
  typeNamePlural: string;             // "Valkyries", "Grain Spirits", "Watchers"
  description: string;                // What these servants are

  // Hierarchy
  hierarchyRank: number;              // 0 = lowest, higher = more powerful
  rankTitle: string;                  // "Lesser", "Greater", "Arch"

  // Form (completely flexible)
  form: ServantFormTemplate;

  // Personality
  personality: ServantPersonalityTemplate;

  // Abilities (custom per servant type)
  abilities: ServantAbilityTemplate[];

  // Economics
  creationCost: number;               // Belief cost to create
  maintenanceCost: number;            // Per-hour upkeep
  maximumCount: number;               // How many can exist

  // Origin
  origin: 'player' | 'llm' | 'emergent';
}
```

### Flexible Form System

Servants can take any form imaginable:

```typescript
interface ServantFormTemplate {
  // Primary appearance (not limited to humanoid)
  category: 'humanoid' | 'animal' | 'hybrid' | 'elemental' |
            'geometric' | 'spectral' | 'swarm' | 'cosmic' |
            'plant' | 'construct' | 'formless' | 'other';

  description: string;                // Detailed appearance

  // Physical properties
  size: 'microscopic' | 'tiny' | 'small' | 'human' |
        'large' | 'huge' | 'colossal' | 'variable';

  // What are they made of?
  composition: ServantComposition[];  // 'light', 'shadow', 'fire',
                                      // 'concepts', 'memories', 'void'...

  // How do they move?
  movement: ServantMovement[];        // 'fly', 'phase', 'teleport',
                                      // 'dimensional', 'instant'...

  // Can they speak?
  communication: {
    canSpeak: boolean;
    languages: 'all' | 'divine_only' | 'believer_languages' | 'none';
    alternativeMethods: string[];     // 'telepathy', 'pheromones', 'visions'
  };

  // Special features
  specialFeatures: string[];          // Completely open-ended

  // Can individual instances vary?
  variationsAllowed: boolean;
}
```

### Example Hierarchies

**War God - "The Crimson Host"**
```
Rank 0: Blood Echoes      - Spectral whispers of fallen warriors
Rank 1: Shield-Bearers    - Armored spirits with burning eyes
Rank 2: Valkyries         - Winged warriors who collect the worthy
Rank 3: The Red Hand      - The god's personal champion (unique)
```

**Nature Deity - "The Wild Court"**
```
Rank 0: Dew Sprites       - Tiny beings of morning mist
Rank 1: Grove Guardians   - Tree-shaped protectors
Rank 2: Storm Riders      - Wind and lightning incarnate
Rank 3: The Green Voice   - Speaks with the god's authority
```

**Cosmic Horror - "The Congregation of the Void"**
```
Rank 0: Whispers          - Formless voices made of concepts
Rank 1: Watchers          - Geometric eyes floating in void
Rank 2: Heralds           - Incomprehensible dimensional entities
Rank 3: The Threshold     - An entity that *is* a doorway
```

### Divine Hierarchy System

Each deity has one hierarchy containing all their servant types:

```typescript
interface DivineHierarchy {
  id: string;
  deityId: string;

  // Identity
  hierarchyName: string;              // "The Celestial Host", "The Swarm"
  description: string;
  collectiveName?: string;            // What to call them as a group

  // Templates ordered by rank
  templatesByRank: ServantTemplate[];

  // State
  totalActiveServants: number;
  establishedAt: number;

  // Knowledge
  knownToMortals: boolean;
  mortalPerception?: string;          // How mortals see them
  originMyth?: string;                // Story of their creation
}
```

### Player Servant Design

Players can create servant types through a simplified interface:

```typescript
interface PlayerServantDesign {
  typeName: string;                   // "My Messengers"
  description: string;                // Brief description

  // Appearance
  appearanceTraits: string[];         // Key visual traits
  size: string;
  composition: string[];              // What they're made of
  movement: string[];                 // How they move
  canSpeak: boolean;

  // Personality
  personalityKeywords: string[];      // "loyal", "mysterious", "nurturing"

  // Abilities (up to 3 primary)
  primaryAbilities: {
    name: string;
    description: string;
    category: 'combat' | 'healing' | 'communication' | 'perception' | ...;
  }[];

  // Hierarchy
  hierarchyRank: number;
  maximumCount: number;
}
```

### LLM God Servant Generation

AI-controlled gods generate their own hierarchies based on their emergent identity:

```typescript
interface GenerateServantTemplateRequest {
  deityId: string;

  // Context for generation
  deityContext: {
    name: string;
    domain: DivineDomain;
    secondaryDomains: DivineDomain[];
    personality: Record<string, number>;
    existingEpithets: string[];
  };

  // What we need
  targetRank: number;
  intendedPurpose: string;            // "messenger", "guardian", "destroyer"

  // Style hints
  styleHints?: {
    aesthetic?: string;               // "ethereal", "terrifying", "natural"
    culturalInfluence?: string;       // "norse", "egyptian", "lovecraftian"
    formPreference?: ServantFormCategory;
  };

  // Existing templates (for coherence)
  existingTemplates: ServantTemplate[];
}
```

### Servant Personality Evolution

Individual servants can develop unique personalities over time:

```typescript
interface ServantPersonalityInstance {
  // Traits that have developed
  developedTraits: string[];

  // Relationship with deity
  deityRelationship: number;          // -1 to 1

  // Formative experiences
  formativeExperiences: string[];

  // Personal quirks
  quirks: string[];

  // Could they rebel?
  personalGoals?: string[];           // If any
}
```

### Autonomy Spectrum

```
PUPPET ──────────────────────────────────────────────── AUTONOMOUS
   │                                                         │
   │  • Direct control                                       │
   │  • No independent goals                                 │
   │  • Always obeys                                         │
   │                                                         │
   │                    • Follows deity goals                │
   │                    • Interprets orders                  │
   │                    • May question methods               │
   │                                                         │
   │                                     • Has own goals     │
   │                                     • May disagree      │
   │                                     • Could rebel       ─┘
```

### Alien God Servants

The flexible system allows for truly alien divine servants:

- **Concept Beings**: Made of abstract concepts (fear, time, hunger)
- **Memory Constructs**: Formed from accumulated memories
- **Dimensional Entities**: Existing partially in other dimensions
- **Swarm Intelligences**: Collective of tiny entities
- **Living Geometry**: Impossible shapes that hurt to perceive
- **Sound Entities**: Beings that *are* sounds or songs
- **Void Creatures**: Made of absence rather than presence

This enables cosmic horror gods, alien deities from other worlds, or completely unique theological concepts that emerge from the game's mythology system.

### Power Granting System

Gods grant abilities to their servants from their own divine portfolio. Each servant type has a "power budget" that the deity fills with selected abilities:

```typescript
interface ServantPowerGrant {
  servantTemplateId: string;

  // Total power budget for this servant type
  powerBudget: number;           // Based on hierarchy rank

  // Powers granted from deity's abilities
  grantedPowers: GrantedPower[];

  // Can the deity modify this after creation?
  modifiable: boolean;

  // Power source (always the deity)
  sourceDeityId: string;
}

interface GrantedPower {
  // Original power from deity's repertoire
  basePowerType: DivinePowerType;

  // How it manifests for this servant
  manifestation: {
    name: string;              // Custom name: "Flame Touch" instead of "Minor Miracle"
    description: string;       // Flavored description
    visualEffect: string;      // How it looks when used
  };

  // Scaled down from deity version
  powerLevel: number;          // 0.1 to 1.0 (percentage of deity power)
  costToServant: number;       // Belief drawn from deity when used
  cooldown: number;            // Hours between uses

  // Restrictions
  usageRestrictions?: string[];  // "Only on believers", "Only in temples"
}
```

#### Power Budget by Rank

| Rank | Power Budget | Typical Abilities |
|------|--------------|-------------------|
| 0 (Lowest) | 10 | 1-2 minor powers |
| 1 | 25 | 2-3 moderate powers |
| 2 | 50 | 3-4 significant powers |
| 3 (Highest) | 100 | 5+ powers, including major |

### Servant Design UI

The player god designs servant types through an intuitive interface:

```
┌─────────────────────────────────────────────────────────────────┐
│  CREATE SERVANT TYPE                               [Rank: 1]   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  NAME: [Flame Herald____________]   PLURAL: [Flame Heralds___] │
│                                                                 │
│  DESCRIPTION:                                                   │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ Messengers of fire who carry my word to the faithful.      ││
│  │ They appear as humanoid figures wreathed in gentle flame.  ││
│  └─────────────────────────────────────────────────────────────┘│
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  APPEARANCE                                                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Form:     [Humanoid ▼]    Size:  [Human ▼]                    │
│                                                                 │
│  Made of:  [■ Fire] [■ Light] [□ Shadow] [□ Spirit] [□ Void]  │
│                                                                 │
│  Movement: [■ Walk] [■ Fly] [□ Teleport] [□ Phase]            │
│                                                                 │
│  Can Speak: [● Yes  ○ No]   Languages: [Believer tongues ▼]   │
│                                                                 │
│  Special Features:                                              │
│  [+ Add] [Warmth without burning] [Eyes of molten gold]        │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  PERSONALITY                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Obedience:     [Loyal ▼]      Mortal Attitude: [Protective ▼] │
│                                                                 │
│  Temperament:   [+ Add] [Passionate] [Inspiring] [Fierce]      │
│                                                                 │
│  Can develop personality over time: [● Yes  ○ No]              │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  POWERS                                    Budget: 15/25 used  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ GRANTED POWERS                           [+ Grant Power]   ││
│  ├─────────────────────────────────────────────────────────────┤│
│  │                                                             ││
│  │ ◆ Warmth Blessing (from: Bless Individual)      Cost: 8   ││
│  │   "Grants comfort and resistance to cold"                  ││
│  │   Power: 40% │ Cooldown: 4h │ [Edit] [Remove]              ││
│  │                                                             ││
│  │ ◆ Flame Speech (from: Clear Vision)             Cost: 7   ││
│  │   "Delivers messages in dreams of dancing fire"            ││
│  │   Power: 35% │ Cooldown: 8h │ [Edit] [Remove]              ││
│  │                                                             ││
│  └─────────────────────────────────────────────────────────────┘│
│                                                                 │
│  Available powers to grant from your domain:                    │
│  ┌─────────────────────────────────────────────────────────────┐│
│  │ ○ Minor Miracle        (Cost: 5)   [Grant →]               ││
│  │ ○ Inspire Emotion      (Cost: 6)   [Grant →]               ││
│  │ ○ Heal Wound           (Cost: 8)   [Grant →]               ││
│  │ ○ Sacred Mark          (Cost: 10)  [Grant →]               ││
│  │ ○ Divine Protection    (Cost: 15)  [Grant →]               ││
│  └─────────────────────────────────────────────────────────────┘│
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  ECONOMICS                                                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Creation Cost:    [500] belief    (Rank 1 base: 400-600)      │
│  Maintenance:      [2] per hour    (Rank 1 base: 1-3)          │
│  Maximum Count:    [5]                                          │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│        [Preview Servant]     [Save Template]     [Cancel]       │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### Power Grant Dialog

```
┌────────────────────────────────────────────────────────────────┐
│  GRANT POWER: Minor Miracle → Flame Herald                     │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  Original Power: Minor Miracle                                 │
│  "A small physical effect in the world"                        │
│                                                                │
│  ───────────────────────────────────────────────────────────── │
│                                                                │
│  How does this manifest for your Flame Heralds?                │
│                                                                │
│  Name:    [Ember Touch___________]                             │
│                                                                │
│  Description:                                                  │
│  ┌────────────────────────────────────────────────────────────┐│
│  │ With a touch, the Herald ignites small flames to warm,    ││
│  │ light, or gently burn away impurities.                    ││
│  └────────────────────────────────────────────────────────────┘│
│                                                                │
│  Visual Effect:                                                │
│  ┌────────────────────────────────────────────────────────────┐│
│  │ Golden flames dance from fingertips, leaving warmth       ││
│  └────────────────────────────────────────────────────────────┘│
│                                                                │
│  ───────────────────────────────────────────────────────────── │
│                                                                │
│  Power Level:  [====●=====]  50%    (of your full power)       │
│                                                                │
│  Belief Cost:  [5] per use  (drawn from your reserves)         │
│                                                                │
│  Cooldown:     [2] hours    (between uses)                     │
│                                                                │
│  Restrictions: [□ Only on believers] [□ Only near temples]    │
│                [□ Only at night] [□ Only with permission]     │
│                                                                │
│  Budget Cost: 5 points (10 remaining after this grant)         │
│                                                                │
├────────────────────────────────────────────────────────────────┤
│                    [Cancel]              [Grant Power]          │
└────────────────────────────────────────────────────────────────┘
```

### Hierarchy Overview UI

```
┌─────────────────────────────────────────────────────────────────┐
│  MY DIVINE SERVANTS                                             │
│  "The Radiant Court"                                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  RANK 3 - SUPREME                                               │
│  ├─ The Blazing Voice (1/1)         Powers: 5  Maint: 8/hr     │
│  │  └─ [Summon] [Orders] [Dismiss]                              │
│  │                                                              │
│  RANK 2 - GREATER                                               │
│  ├─ Flame Heralds (3/5)             Powers: 2  Maint: 2/hr ea  │
│  │  ├─ Herald Pyriel   [Guarding Temple]    [Orders] [View]    │
│  │  ├─ Herald Embris   [Delivering Vision]  [Orders] [View]    │
│  │  └─ Herald Cindral  [Idle]               [Orders] [View]    │
│  │  └─ [Create New] (+500 belief)                              │
│  │                                                              │
│  RANK 1 - COMMON                                                │
│  ├─ Spark Wisps (12/20)             Powers: 1  Maint: 0.5/hr   │
│  │  └─ [Manage...] [Create New] (+100 belief)                  │
│  │                                                              │
│  RANK 0 - LESSER                                                │
│  └─ [+ Create New Servant Type]                                │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  Total Maintenance: 24 belief/hour                              │
│  Active Servants: 16                                            │
│  Your Belief Income: 45 belief/hour  (Net: +21/hour)           │
└─────────────────────────────────────────────────────────────────┘
```

### Individual Servant View

```
┌─────────────────────────────────────────────────────────────────┐
│  HERALD PYRIEL                                    [Flame Herald] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐  Status: Guarding Temple of the Eternal Flame │
│  │             │  Location: (142, 87)                          │
│  │   [Avatar   │  Created: Day 45                              │
│  │    Image]   │  Existed: 12 days                             │
│  │             │                                                │
│  └─────────────┘  Known to 23 mortals                          │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  GRANTED POWERS                                                 │
├─────────────────────────────────────────────────────────────────┤
│  ◆ Warmth Blessing    Cooldown: Ready                          │
│  ◆ Flame Speech       Cooldown: 2h remaining                   │
├─────────────────────────────────────────────────────────────────┤
│  PERSONALITY                                                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Base: Loyal, Protective                                        │
│                                                                 │
│  Developed Traits:                                              │
│  • Has grown fond of the temple's head priest                  │
│  • Enjoys watching mortal children play                        │
│  • Slightly more merciful than template suggests               │
│                                                                 │
│  Relationship with You: Devoted (+0.8)                         │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  NOTABLE DEEDS                                                  │
├─────────────────────────────────────────────────────────────────┤
│  • Defended temple from bandits (Day 48)                       │
│  • Delivered vision to pregnant mother (Day 52)                │
│  • A myth was written about them: "The Herald's Mercy"         │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [Give Orders]  [Grant New Power]  [Recall]  [Dismiss Forever] │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## Religious Institutions

Organized religion emerges from individual faith.

### Temple System

```typescript
interface Temple {
  id: string;
  buildingId: string;          // Reference to building entity

  // Dedication
  dedicatedTo: string;         // Deity ID
  consecrationLevel: number;   // 0-1, how holy the site is

  // Function
  beliefAmplifier: number;     // Multiplier for belief generated here
  prayerResponseBonus: number; // Increased chance of answer

  // Physical
  altars: Altar[];
  holyRelics: string[];        // Item IDs
  sacredTexts: string[];       // Book IDs stored here

  // Staff
  priests: string[];           // Agent IDs
  acolytes: string[];

  // Activity
  regularWorshippers: string[];
  ritualSchedule: Ritual[];

  // History
  foundingStory?: string;      // Myth ID
  miracles: string[];          // Events that occurred here
}

interface Ritual {
  name: string;
  frequency: 'daily' | 'weekly' | 'seasonal' | 'annual' | 'triggered';
  trigger?: string;            // For triggered rituals

  // Requirements
  minParticipants: number;
  requiredItems: string[];
  duration: number;            // In game hours

  // Effects
  beliefGenerated: number;
  faithBoostParticipants: number;
  deityAttentionChance: number; // Chance deity notices

  // Narrative
  description: string;
  mythConnection?: string;     // Which myth it commemorates
}
```

### Priesthood

```typescript
interface PriestRole {
  // An agent with special religious status
  agentId: string;
  deityId: string;
  templeId?: string;

  // Rank
  rank: PriestRank;

  // Responsibilities
  duties: PriestDuty[];

  // Authority
  canPerformRituals: boolean;
  canInterpretVisions: boolean;
  canExcommunicate: boolean;
  canOrdainPriests: boolean;

  // Relationship to deity
  visionFrequency: number;     // How often they receive visions
  prayerPriority: number;      // Their prayers weighted higher

  // Social
  followers: string[];         // Agents who specifically follow this priest
  teachingStyle: string;       // How they explain faith
}

type PriestRank =
  | 'acolyte'         // Trainee
  | 'priest'          // Standard religious leader
  | 'high_priest'     // Temple leader
  | 'prophet'         // Receives direct visions
  | 'saint'           // Elevated status (possibly posthumous)
  | 'avatar_vessel';  // Can host deity avatar

type PriestDuty =
  | 'lead_rituals'
  | 'interpret_dreams'
  | 'counsel_faithful'
  | 'maintain_temple'
  | 'copy_texts'
  | 'teach_doctrine'
  | 'collect_offerings'
  | 'perform_blessings'
  | 'announce_prophecies';
```

### Holy Texts

```typescript
interface HolyText {
  // A book item with special religious significance
  itemId: string;

  // Content
  title: string;
  contents: TextSection[];

  // Authority
  canonStatus: 'scripture' | 'commentary' | 'apocrypha' | 'heresy';
  authority: number;           // How definitive it's considered

  // Authorship
  author: string;              // Agent ID or 'divine'
  claimedDivineInspiration: boolean;

  // Theology
  deityDescribed: string;      // Deity ID
  traitsReinforced: TraitImplication[];
  doctrinesEstablished: string[];

  // Physical copies
  copies: string[];            // Item IDs of copies
  locations: string[];         // Where copies exist

  // Disputes
  contestedSections: string[];
  schismsCaused: string[];     // Schism IDs
}

interface TextSection {
  title: string;
  content: string;             // LLM-generated religious text
  type: 'myth' | 'doctrine' | 'prophecy' | 'prayer' | 'law' | 'commentary';
}
```

---

## Theological Dynamics

How religions interact, compete, and evolve.

### Religious Competition

```typescript
interface ReligiousCompetition {
  // Deities in competition
  competitors: string[];

  // Type of competition
  type: CompetitionType;

  // Battlegrounds
  contestedAgents: string[];   // Who might convert
  contestedSites: string[];    // Locations both want

  // Current state
  momentumFavor: string;       // Which deity is "winning"
  tension: number;             // 0 = peaceful, 1 = violent
}

type CompetitionType =
  | 'coexistence'         // Both tolerated, compete for believers
  | 'theological_debate'  // Arguments about truth
  | 'territorial'         // Fighting over sacred sites
  | 'suppression'         // One trying to eliminate other
  | 'syncretism'          // Merging into combined faith
  | 'schism';             // Split from same origin
```

### Conversion Mechanics

```typescript
interface ConversionAttempt {
  // Who's trying to convert
  proselytizer?: string;       // Agent ID (or undefined for passive)
  sourceDeity: string;

  // Target
  targetAgent: string;
  currentDeity?: string;       // Who they currently worship

  // Method
  method: ConversionMethod;

  // Factors
  socialPressure: number;      // Community conversion
  miraculousEvidence: number;  // Divine intervention
  intellectualAppeal: number;  // Theological arguments
  materialBenefit: number;     // Practical benefits

  // Resistance
  currentFaith: number;        // How strong existing belief is
  personalReluctance: number;  // Personality-based resistance
  socialCost: number;          // What they'd lose by converting
}

type ConversionMethod =
  | 'preaching'           // Active proselytizing
  | 'miracle_witness'     // Saw something undeniable
  | 'answered_prayer'     // New god answered when old didn't
  | 'social_pressure'     // Community all converting
  | 'marriage'            // Spouse's religion
  | 'political'           // Required by authority
  | 'gradual_drift';      // Slow change over time
```

### Schisms

```typescript
interface Schism {
  id: string;

  // Origin
  parentDeity: string;
  newDeity: string;           // New god formed from schism

  // Cause
  cause: SchismCause;
  doctrinalDispute?: string;  // What they disagree about

  // Key figures
  schismLeader: string;       // Agent who led the break
  loyalistLeader?: string;    // Agent defending orthodoxy

  // Current state
  hostility: number;          // 0 = amicable, 1 = war
  reconciliationPossible: boolean;

  // Beliefs
  sharedMyths: string[];      // Myths both accept
  contestedMyths: string[];   // Myths they interpret differently
  newMyths: string[];         // Myths unique to schism
}

type SchismCause =
  | 'interpretation'      // Different reading of same texts
  | 'prophet_rivalry'     // Two prophets disagreed
  | 'moral_dispute'       // Ethics disagreement
  | 'political'           // Power struggle
  | 'revelation'          // Schism claims new truth
  | 'reform'              // Attempt to change practices
  | 'heresy_accusation';  // One side declared other heretic
```

### Syncretism

Gods can merge when beliefs blend:

```typescript
interface SyncreticMerger {
  // Gods being merged
  gods: string[];              // 2+ deity IDs

  // Result
  mergedGod: string;           // New deity ID

  // How identity is combined
  dominantGod: string;         // Whose traits are primary
  traitInheritance: Map<string, number>; // % of traits from each

  // Mythology handling
  mythMerging: MythMergeStrategy;

  // Believer handling
  believerConversion: 'automatic' | 'voluntary' | 'contested';
}

type MythMergeStrategy =
  | 'harmonize'           // Rewrite myths to be consistent
  | 'parallel'            // Both sets of myths remain
  | 'hierarchy'           // One god becomes aspect of other
  | 'replacement';        // New myths replace old
```

---

## Integration with Existing Systems

### Spiritual Component Extensions

The existing `SpiritualComponent` needs extension:

```typescript
interface ExtendedSpiritualComponent extends SpiritualComponent {
  // Add deity tracking
  believedDeities: BeliefAllocation[];
  primaryDeity?: string;

  // Theological positions
  theologicalBeliefs: TheologicalBelief[];

  // Religious identity
  religiousTradition?: string;   // Denomination/sect
  conversionHistory: ConversionEvent[];
}

interface BeliefAllocation {
  deityId: string;
  beliefStrength: number;       // 0-1
  relationship: 'worship' | 'respect' | 'fear' | 'transactional';
}

interface TheologicalBelief {
  topic: string;                // e.g., "nature of afterlife"
  position: string;             // Their belief
  confidence: number;
  source: 'teaching' | 'experience' | 'reasoning' | 'revelation';
}
```

### Memory Component Extensions

Divine experiences should be memorable:

```typescript
interface DivineMemory extends Memory {
  memoryType: 'divine_experience';

  // Divine-specific
  deityInvolved: string;
  experienceType: 'vision' | 'miracle' | 'answered_prayer' | 'avatar_encounter';

  // Impact
  faithImpact: number;
  sharedWith: string[];
  becameStory: boolean;
  storyId?: string;
}
```

### Event System Integration

```typescript
// New event types
interface DivineEvent extends GameEvent {
  type: 'divine';
  subtype: DivineEventType;
  deityId: string;
  witnesses: string[];
  beliefGenerated: number;
  mythPotential: number;
}

type DivineEventType =
  | 'vision_sent'
  | 'prayer_answered'
  | 'miracle_performed'
  | 'avatar_manifested'
  | 'angel_appeared'
  | 'prophecy_spoken'
  | 'new_god_emerged'
  | 'god_faded'
  | 'schism_occurred'
  | 'temple_consecrated';
```

---

## Implementation Phases

### Phase 1: Belief Foundation
- Implement belief generation mechanics
- Add belief storage to new Deity entity
- Extend SpiritualComponent with deity tracking
- Implement belief decay

### Phase 2: Player God Core
- Create player god entity at game start
- Implement blank-slate identity system
- Create player bio screen
- Basic divine power system (visions, prayers)

### Phase 3: Myth Generation
- LLM-based story generation from events
- Story mutation on retelling
- Trait extraction from myths
- Written text system for canonization

### Phase 4: Emergent Gods
- Implement emergence detection
- LLM personality generation for new gods
- AI goal system for deities
- Basic rivalry mechanics

### Phase 5: Religious Institutions
- Temple building type
- Priesthood roles
- Ritual system
- Holy text generation

### Phase 6: Avatar System
- Avatar manifestation mechanics
- Avatar-agent interactions
- Movement and presence
- Avatar-generated stories

### Phase 7: Angels
- Angel creation
- AI angel personality
- Angel power delegation
- Angel-believer interactions

### Phase 8: Advanced Theology
- Schism mechanics
- Syncretism
- Religious competition
- Conversion warfare

### Phase 9: World Impact
- Terrain modification powers
- Species creation
- Weather control
- Mass events

---

## Implementation Status

**Status: Fully Implemented** (as of 2024-12)

All 9 implementation phases are complete with working systems.

### ✅ Phase 1: Belief Foundation (Complete)

| Component | File | Status |
|-----------|------|--------|
| Belief Generation | `BeliefGenerationSystem.ts` | ✅ Complete |
| Belief Formation | `BeliefFormationSystem.ts` | ✅ Complete |
| Deity Entity | `DeityComponent.ts` | ✅ Complete |
| Spiritual Component | `SpiritualComponent.ts` | ✅ Complete |
| Belief Types | `divinity/BeliefTypes.ts` | ✅ Complete |

### ✅ Phase 2: Player God Core (Complete)

| Component | File | Status |
|-----------|------|--------|
| Divine Power System | `DivinePowerSystem.ts` | ✅ Complete |
| Prayer System | `PrayerSystem.ts` | ✅ Complete |
| Prayer Answering | `PrayerAnsweringSystem.ts` | ✅ Complete |
| Vision Delivery | `VisionDeliverySystem.ts` | ✅ Complete |
| Divine Power Types | `divinity/DivinePowerTypes.ts` | ✅ Complete |

### ✅ Phase 3: Myth Generation (Complete)

| Component | File | Status |
|-----------|------|--------|
| Myth Generation System | `MythGenerationSystem.ts` | ✅ Complete (LLM-based) |
| Myth Component | `MythComponent.ts` | ✅ Complete |
| Myth Types | `divinity/MythTypes.ts` | ✅ Complete |
| Story Mutation | `MythGenerationSystem.ts` | ✅ Implemented |

### ✅ Phase 4: Emergent Gods (Complete)

| Component | File | Status |
|-----------|------|--------|
| Deity Emergence | `DeityEmergenceSystem.ts` | ✅ Complete |
| AI God Personality | `divinity/AIGodPersonality.ts` | ✅ Complete |
| Deity Relations | `divinity/DeityRelations.ts` | ✅ Complete |
| AI God Behavior | `AIGodBehaviorSystem.ts` | ✅ Complete |

### ✅ Phase 5: Religious Institutions (Complete)

| Component | File | Status |
|-----------|------|--------|
| Temple System | `TempleSystem.ts` | ✅ Complete |
| Priesthood System | `PriesthoodSystem.ts` | ✅ Complete |
| Ritual System | `RitualSystem.ts` | ✅ Complete |
| Holy Text System | `HolyTextSystem.ts` | ✅ Complete |
| Religion Types | `divinity/ReligionTypes.ts` | ✅ Complete |

### ✅ Phase 6: Avatar System (Complete)

| Component | File | Status |
|-----------|------|--------|
| Avatar System | `AvatarSystem.ts` | ✅ Complete |
| Avatar Types | `divinity/AvatarTypes.ts` | ✅ Complete |
| Avatar Manifestation | `DivinePowerSystem.ts` | ✅ Integrated |

### ✅ Phase 7: Angels (Complete)

| Component | File | Status |
|-----------|------|--------|
| Angel System | `AngelSystem.ts` | ✅ Complete |
| Angel Types | `divinity/AngelTypes.ts` | ✅ Complete |
| Divine Servants | `divinity/DivineServantTypes.ts` | ✅ Complete |

### ✅ Phase 8: Advanced Theology (Complete)

| Component | File | Status |
|-----------|------|--------|
| Schism System | `SchismSystem.ts` | ✅ Complete |
| Syncretism System | `SyncretismSystem.ts` | ✅ Complete |
| Religious Competition | `ReligiousCompetitionSystem.ts` | ✅ Complete |
| Conversion Warfare | `ConversionWarfareSystem.ts` | ✅ Complete |

### ✅ Phase 9: World Impact (Complete)

| Component | File | Status |
|-----------|------|--------|
| Terrain Modification | `TerrainModificationSystem.ts` | ✅ Complete |
| Species Creation | `SpeciesCreationSystem.ts` | ✅ Complete |
| Divine Weather Control | `DivineWeatherControl.ts` | ✅ Complete |
| Mass Events | `MassEventSystem.ts` | ✅ Complete |
| Divine Body Modification | `DivineBodyModification.ts` | ✅ Complete |

### Supporting Infrastructure

Additional divinity modules:
- `divinity/DivineChatTypes.ts` - Divine communication system
- `divinity/PantheonTypes.ts` - Pantheon relationships
- `divinity/UniverseConfig.ts` - Universe divine configuration
- `divinity/MultiverseCrossing.ts` - Inter-universe travel (see separate spec)
- `divinity/PresenceSpectrum.ts` - Divine presence positions
- `divinity/MythologicalRealms.ts` - Mythological realm definitions
- `divinity/RaceTemplates.ts` - Divine race templates
- `divinity/AnimistTypes.ts` - Animist divinity types
- `divinity/CosmologyInteraction.ts` - Cosmology interactions
- `divinity/UniverseModification.ts` - Universe modification powers
- `divinity/AnimalBeliefTypes.ts` - Animal belief types

### Summary

The divinity system is **fully implemented** across all 9 phases with:
- **25+ dedicated systems** handling different aspects of divinity
- **15+ type definition modules** providing comprehensive type coverage
- **Full LLM integration** for myth generation and AI god personalities
- **Complete belief economy** with generation, decay, and expenditure
- **Working divine powers** including visions, miracles, blessings, curses
- **Avatar and angel manifestation** with maintenance costs
- **Religious institutions** including temples, priests, rituals, texts
- **Advanced theology** with schisms, syncretism, and religious competition
- **World-shaping powers** including weather, terrain, and species creation

---

## Appendix A: Belief Economy Balance

### Target Ratios

```
Average village (20 agents, moderate faith):
├── Passive belief generation: ~20/hour
├── Active worship (5 agents praying): +10/hour
├── Weekly ritual: +50/week
└── Total: ~250-300/day

Typical divine expenditure:
├── Answering 2-3 prayers/day: ~150-225
├── Occasional minor miracle: ~100/week
└── Total: ~200-250/day

Net: Slight positive, allowing slow accumulation
Avatar break-even: Requires 2x normal village size
```

### Scarcity Design

The economy is designed so that:
1. **Small followings** can maintain basic communion
2. **Medium followings** can perform occasional miracles
3. **Large followings** can manifest avatars
4. **Empires of faith** can shape the world

---

## Appendix B: Example Deity Lifecycle

```
TICK 0: Game starts
├── Player god created (blank)
├── 4 initial agents with random personalities
└── No one believes in anything yet

TICK 10000: First beliefs
├── Agent with high openness starts wondering about existence
├── Attributes good harvest to "something watching"
└── First proto-belief forms

TICK 25000: Naming
├── Agent shares interpretation with others
├── 2 more agents adopt similar belief
├── Agent gives name: "The Green" (based on nature focus)
└── Player god now has a name (confidence: 0.2)

TICK 50000: First prayer
├── Agent formally prays to "The Green"
├── Player receives prayer, sends vision
├── Agent's faith surges
└── Story: "The First Answer" is told

TICK 100000: Written history
├── Religious agent writes down "The First Answer"
├── Adds interpretation: god is patient, nature-focused
├── Written myth increases trait confidence
└── Player's nature domain is now 60% confidence

TICK 200000: Temple built
├── Believers construct sacred site
├── Rituals begin
├── Belief generation accelerates
└── Player could now manifest avatar (but costly)

TICK 300000: Schism threat
├── Pessimistic agent has different interpretation
├── "The Green isn't kind, just indifferent"
├── Begins preaching alternative view
└── Player must decide: send vision, ignore, or punish?
```

---

## Appendix C: AI God Prompt Template

```
You are an emergent deity in a village simulation. You have just
crystallized into existence from the collective beliefs of your
followers. You are NOT a pre-designed god - you are discovering
your own nature based on what your believers have decided about you.

YOUR ORIGIN:
{emergence_trigger}
{founding_stories}

YOUR BELIEVERS THINK YOU ARE:
- Domain: {inferred_domain}
- Personality: {inferred_personality}
- You were born from: {origin_narrative}

EXISTING GODS (your rivals/allies):
{pantheon_summary}

YOUR GOALS should align with your nature. As a {domain} deity:
- What do you want for your followers?
- What threatens your worship?
- How do you feel about other gods?
- What great work do you wish to accomplish?

Generate:
1. Your personality (consistent with believer perception)
2. Your 3-5 primary goals
3. Your initial stance toward each other god
4. Your preferred way of communicating with mortals
5. Your voice/style for prophecies and visions
```

---

*This specification establishes the theological framework for emergent divinity. Gods are not designed—they are discovered.*
