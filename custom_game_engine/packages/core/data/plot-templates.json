{
  "micro_plot_templates": [
    {
      "id": "micro_moment_of_courage",
      "name": "The Brave Choice",
      "description": "A moment when fear arises and courage must answer",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Bravery in the moment",
        "domain": "self",
        "insight": "Courage is not the absence of fear, but action despite it.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "fear_arises",
      "completion_stages": ["courage_shown"],
      "failure_stages": ["fear_wins"],
      "stages": [
        {
          "stage_id": "fear_arises",
          "name": "The Moment of Fear",
          "description": "A threat appears. Will you face it or flee?",
          "stage_attractors": [
            {
              "attractor_id": "push_courage",
              "goal": { "type": "emotional_state", "parameters": { "emotion": "brave" } },
              "strength": 0.3,
              "urgency": 0.7,
              "description": "Nudging toward courage"
            }
          ]
        },
        {
          "stage_id": "courage_shown",
          "name": "Courage Found",
          "description": "You faced the fear and found strength within.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 15 },
            { "type": "queue_dream_hint", "dream_type": "memory_echo", "content_hint": "You stood firm when fear demanded flight", "intensity": 0.4 }
          ]
        },
        {
          "stage_id": "fear_wins",
          "name": "Fear Prevails",
          "description": "Fear won this time, but there will be other chances.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 5 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "fear_arises",
          "to_stage": "courage_shown",
          "conditions": [
            { "type": "mood_threshold", "min": 20 },
            { "type": "personal_tick_elapsed", "ticks": 30 }
          ]
        },
        {
          "from_stage": "fear_arises",
          "to_stage": "fear_wins",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 200 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_stress_threshold", "min": 40 }
        ],
        "cooldown_ticks": 500
      }
    },
    {
      "id": "micro_facing_unknown",
      "name": "Into the Unknown",
      "description": "Confronting something never encountered before",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Embracing uncertainty",
        "domain": "self",
        "insight": "The unknown becomes familiar only through experience.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "hesitation",
      "completion_stages": ["explored"],
      "failure_stages": ["retreated"],
      "stages": [
        {
          "stage_id": "hesitation",
          "name": "At the Threshold",
          "description": "Something new lies ahead. Uncertainty holds you back."
        },
        {
          "stage_id": "explored",
          "name": "Discovery Made",
          "description": "You stepped forward and found understanding.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 10 }
          ]
        },
        {
          "stage_id": "retreated",
          "name": "Turned Back",
          "description": "The unknown remains unknown."
        }
      ],
      "transitions": [
        {
          "from_stage": "hesitation",
          "to_stage": "explored",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 50 }],
          "probability": 0.7
        },
        {
          "from_stage": "hesitation",
          "to_stage": "retreated",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 150 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 300
      }
    },
    {
      "id": "micro_act_of_kindness",
      "name": "A Kind Gesture",
      "description": "An opportunity to show kindness to another",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Small kindnesses matter",
        "domain": "relationships",
        "insight": "Even small kindnesses ripple outward.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "opportunity",
      "completion_stages": ["kindness_given"],
      "failure_stages": ["passed_by"],
      "stages": [
        {
          "stage_id": "opportunity",
          "name": "A Chance to Help",
          "description": "Someone nearby could use assistance.",
          "stage_attractors": [
            {
              "attractor_id": "encourage_help",
              "goal": { "type": "relationship_formed", "parameters": {} },
              "strength": 0.2,
              "urgency": 0.5
            }
          ]
        },
        {
          "stage_id": "kindness_given",
          "name": "Help Extended",
          "description": "You offered help without expectation.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 12 },
            { "type": "modify_mood_factor", "factor": "social", "delta": 8 }
          ]
        },
        {
          "stage_id": "passed_by",
          "name": "Moment Missed",
          "description": "The opportunity passed."
        }
      ],
      "transitions": [
        {
          "from_stage": "opportunity",
          "to_stage": "kindness_given",
          "conditions": [
            { "type": "any_relationship", "min_trust": 10 },
            { "type": "personal_tick_elapsed", "ticks": 40 }
          ]
        },
        {
          "from_stage": "opportunity",
          "to_stage": "passed_by",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 180 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 400
      }
    },
    {
      "id": "micro_offering_comfort",
      "name": "Words of Comfort",
      "description": "Comforting someone in distress",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Presence heals",
        "domain": "relationships",
        "insight": "Sometimes presence alone is the greatest comfort.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "witness_distress",
      "completion_stages": ["comfort_given"],
      "failure_stages": ["ignored"],
      "stages": [
        {
          "stage_id": "witness_distress",
          "name": "Seeing Pain",
          "description": "Someone nearby is suffering."
        },
        {
          "stage_id": "comfort_given",
          "name": "Comfort Offered",
          "description": "You reached out with compassion.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 8 },
            { "type": "modify_relationship_by_role", "role": "comforted", "trust_delta": 5, "affinity_delta": 3 }
          ]
        },
        {
          "stage_id": "ignored",
          "name": "Walked Past",
          "description": "Their pain went unacknowledged."
        }
      ],
      "transitions": [
        {
          "from_stage": "witness_distress",
          "to_stage": "comfort_given",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 30 }],
          "probability": 0.6
        },
        {
          "from_stage": "witness_distress",
          "to_stage": "ignored",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 120 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_death_nearby", "min_relationship_trust": 5 }
        ],
        "trigger_bindings": [
          { "role": "comforted", "source": "trigger_target" }
        ],
        "cooldown_ticks": 600
      }
    },
    {
      "id": "micro_bite_tongue",
      "name": "Holding Back Words",
      "description": "The wisdom to not say what comes to mind",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Restraint is strength",
        "domain": "self",
        "insight": "Not every thought needs voice.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "urge_to_speak",
      "completion_stages": ["silence_kept"],
      "failure_stages": ["words_escaped"],
      "stages": [
        {
          "stage_id": "urge_to_speak",
          "name": "Words Rising",
          "description": "Something wants to be said. Should it?"
        },
        {
          "stage_id": "silence_kept",
          "name": "Silence Chosen",
          "description": "You held your tongue and kept the peace.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": -5 }
          ]
        },
        {
          "stage_id": "words_escaped",
          "name": "Words Spoken",
          "description": "The words came out. For better or worse.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 3 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "urge_to_speak",
          "to_stage": "silence_kept",
          "conditions": [
            { "type": "stress_threshold", "max": 50 },
            { "type": "personal_tick_elapsed", "ticks": 25 }
          ]
        },
        {
          "from_stage": "urge_to_speak",
          "to_stage": "words_escaped",
          "conditions": [{ "type": "stress_threshold", "min": 60 }]
        },
        {
          "from_stage": "urge_to_speak",
          "to_stage": "words_escaped",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 100 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_emotional_state", "state": "frustrated", "min_duration_ticks": 10 }
        ],
        "cooldown_ticks": 350
      }
    },
    {
      "id": "micro_waiting_patiently",
      "name": "The Art of Waiting",
      "description": "Finding peace in a moment that requires patience",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Patience is wisdom",
        "domain": "self",
        "insight": "Patience transforms waiting into presence.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "must_wait",
      "completion_stages": ["waited_well"],
      "failure_stages": ["impatience"],
      "stages": [
        {
          "stage_id": "must_wait",
          "name": "Forced to Wait",
          "description": "Something cannot be rushed. Can you be still?"
        },
        {
          "stage_id": "waited_well",
          "name": "Patience Found",
          "description": "You waited with grace.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": -8 },
            { "type": "modify_mood", "delta": 5 }
          ]
        },
        {
          "stage_id": "impatience",
          "name": "Restlessness Won",
          "description": "Impatience got the better of you.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 5 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "must_wait",
          "to_stage": "waited_well",
          "conditions": [
            { "type": "stress_threshold", "max": 40 },
            { "type": "personal_tick_elapsed", "ticks": 60 }
          ]
        },
        {
          "from_stage": "must_wait",
          "to_stage": "impatience",
          "conditions": [{ "type": "stress_threshold", "min": 70 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 400
      }
    },
    {
      "id": "micro_telling_truth",
      "name": "Speaking Truth",
      "description": "A moment when honesty is difficult but necessary",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Truth has power",
        "domain": "self",
        "insight": "Truth, though difficult, builds foundations.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "truth_or_lie",
      "completion_stages": ["truth_told"],
      "failure_stages": ["lie_told"],
      "stages": [
        {
          "stage_id": "truth_or_lie",
          "name": "The Choice",
          "description": "You could lie and make things easier. Or tell the truth."
        },
        {
          "stage_id": "truth_told",
          "name": "Truth Spoken",
          "description": "You chose honesty despite the cost.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 8 }
          ]
        },
        {
          "stage_id": "lie_told",
          "name": "Lie Spoken",
          "description": "You chose the easier path.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 3 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "truth_or_lie",
          "to_stage": "truth_told",
          "conditions": [{ "type": "mood_threshold", "min": 10 }],
          "probability": 0.6
        },
        {
          "from_stage": "truth_or_lie",
          "to_stage": "lie_told",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 80 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 500
      }
    },
    {
      "id": "micro_admitting_mistake",
      "name": "Owning a Mistake",
      "description": "The courage to admit you were wrong",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Humility strengthens",
        "domain": "self",
        "insight": "Admitting mistakes is the first step to growth.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "mistake_made",
      "completion_stages": ["admitted"],
      "failure_stages": ["denied"],
      "stages": [
        {
          "stage_id": "mistake_made",
          "name": "Error Realized",
          "description": "You made a mistake. Will you own it?"
        },
        {
          "stage_id": "admitted",
          "name": "Mistake Acknowledged",
          "description": "You admitted your error.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 5 },
            { "type": "modify_stress", "delta": -5 }
          ]
        },
        {
          "stage_id": "denied",
          "name": "Mistake Hidden",
          "description": "You buried the error.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 8 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "mistake_made",
          "to_stage": "admitted",
          "conditions": [{ "type": "wisdom_threshold", "min_wisdom": 5 }],
          "probability": 0.5
        },
        {
          "from_stage": "mistake_made",
          "to_stage": "denied",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 100 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 600
      }
    },
    {
      "id": "micro_gratitude",
      "name": "Pause for Gratitude",
      "description": "Recognizing something good in life",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Gratitude brings peace",
        "domain": "self",
        "insight": "Gratitude transforms ordinary moments into gifts.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "good_moment",
      "completion_stages": ["gratitude_felt"],
      "failure_stages": ["unnoticed"],
      "stages": [
        {
          "stage_id": "good_moment",
          "name": "Something Good",
          "description": "Life offers a small gift. Will you notice?"
        },
        {
          "stage_id": "gratitude_felt",
          "name": "Gratitude Acknowledged",
          "description": "You paused to appreciate the moment.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 15 },
            { "type": "modify_stress", "delta": -10 }
          ]
        },
        {
          "stage_id": "unnoticed",
          "name": "Moment Passed",
          "description": "The gift went unnoticed."
        }
      ],
      "transitions": [
        {
          "from_stage": "good_moment",
          "to_stage": "gratitude_felt",
          "conditions": [
            { "type": "mood_threshold", "min": 0 },
            { "type": "personal_tick_elapsed", "ticks": 20 }
          ],
          "probability": 0.7
        },
        {
          "from_stage": "good_moment",
          "to_stage": "unnoticed",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 100 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_mood_threshold", "min": 30 }
        ],
        "cooldown_ticks": 300
      }
    },
    {
      "id": "micro_thanking",
      "name": "Expressing Thanks",
      "description": "Taking time to thank someone properly",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Thanks builds bonds",
        "domain": "relationships",
        "insight": "Gratitude expressed strengthens all bonds.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "owed_thanks",
      "completion_stages": ["thanks_given"],
      "failure_stages": ["thanks_forgotten"],
      "stages": [
        {
          "stage_id": "owed_thanks",
          "name": "Debt of Gratitude",
          "description": "Someone helped you. Have you thanked them?"
        },
        {
          "stage_id": "thanks_given",
          "name": "Gratitude Shared",
          "description": "You expressed your appreciation.",
          "on_enter_effects": [
            { "type": "modify_relationship_by_role", "role": "helper", "trust_delta": 3, "affinity_delta": 5 },
            { "type": "modify_mood", "delta": 8 }
          ]
        },
        {
          "stage_id": "thanks_forgotten",
          "name": "Thanks Unsaid",
          "description": "The moment for thanks passed."
        }
      ],
      "transitions": [
        {
          "from_stage": "owed_thanks",
          "to_stage": "thanks_given",
          "conditions": [{ "type": "has_relationship_with_role", "role": "helper", "min_trust": 0 }],
          "probability": 0.7
        },
        {
          "from_stage": "owed_thanks",
          "to_stage": "thanks_forgotten",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 150 }]
        }
      ],
      "assignment_rules": {
        "trigger_bindings": [
          { "role": "helper", "source": "highest_trust" }
        ],
        "cooldown_ticks": 400
      }
    },
    {
      "id": "micro_letting_go_anger",
      "name": "Releasing Anger",
      "description": "Choosing to let go of anger",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Anger poisons the holder",
        "domain": "self",
        "insight": "Anger held harms the one who holds it most.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "anger_burns",
      "completion_stages": ["released"],
      "failure_stages": ["held_onto"],
      "stages": [
        {
          "stage_id": "anger_burns",
          "name": "Anger Rising",
          "description": "Anger demands expression. Will you release it or let it consume?"
        },
        {
          "stage_id": "released",
          "name": "Anger Released",
          "description": "You chose to let go.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": -15 },
            { "type": "set_emotional_state", "state": "content", "duration_ticks": 50 }
          ]
        },
        {
          "stage_id": "held_onto",
          "name": "Anger Held",
          "description": "The anger remains, festering.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 10 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "anger_burns",
          "to_stage": "released",
          "conditions": [
            { "type": "wisdom_threshold", "min_wisdom": 10 },
            { "type": "personal_tick_elapsed", "ticks": 40 }
          ]
        },
        {
          "from_stage": "anger_burns",
          "to_stage": "held_onto",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 120 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_emotional_state", "state": "enraged", "min_duration_ticks": 20 }
        ],
        "cooldown_ticks": 400
      }
    },
    {
      "id": "micro_accepting_loss",
      "name": "Accepting a Small Loss",
      "description": "Coming to terms with something lost",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Loss is part of life",
        "domain": "self",
        "insight": "Accepting loss opens space for what comes next.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "feeling_loss",
      "completion_stages": ["accepted"],
      "failure_stages": ["resisting"],
      "stages": [
        {
          "stage_id": "feeling_loss",
          "name": "Something Lost",
          "description": "Something small but meaningful is gone."
        },
        {
          "stage_id": "accepted",
          "name": "Loss Accepted",
          "description": "You accepted the loss and moved forward.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 5 },
            { "type": "modify_stress", "delta": -5 }
          ]
        },
        {
          "stage_id": "resisting",
          "name": "Still Clinging",
          "description": "You cannot let go.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 5 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "feeling_loss",
          "to_stage": "accepted",
          "conditions": [
            { "type": "personal_tick_elapsed", "ticks": 80 },
            { "type": "mood_threshold", "min": -20 }
          ]
        },
        {
          "from_stage": "feeling_loss",
          "to_stage": "resisting",
          "conditions": [{ "type": "mood_threshold", "max": -40 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_emotional_state", "state": "melancholic", "min_duration_ticks": 30 }
        ],
        "cooldown_ticks": 500
      }
    },
    {
      "id": "micro_following_curiosity",
      "name": "Following a Thread",
      "description": "Pursuing something that catches your interest",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Curiosity leads to discovery",
        "domain": "self",
        "insight": "Every great discovery began with curiosity.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "intrigued",
      "completion_stages": ["investigated"],
      "failure_stages": ["ignored"],
      "stages": [
        {
          "stage_id": "intrigued",
          "name": "Something Interesting",
          "description": "Something catches your attention."
        },
        {
          "stage_id": "investigated",
          "name": "Curiosity Satisfied",
          "description": "You followed your curiosity and learned something.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 10 },
            { "type": "grant_skill_xp", "skill": "observation", "xp": 5 }
          ]
        },
        {
          "stage_id": "ignored",
          "name": "Curiosity Suppressed",
          "description": "You moved on without investigating."
        }
      ],
      "transitions": [
        {
          "from_stage": "intrigued",
          "to_stage": "investigated",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 40 }],
          "probability": 0.65
        },
        {
          "from_stage": "intrigued",
          "to_stage": "ignored",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 120 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 250
      }
    },
    {
      "id": "micro_asking_question",
      "name": "Daring to Ask",
      "description": "Having the courage to ask a question",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Questions open doors",
        "domain": "self",
        "insight": "The wisest admit what they do not know.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "wondering",
      "completion_stages": ["asked"],
      "failure_stages": ["stayed_silent"],
      "stages": [
        {
          "stage_id": "wondering",
          "name": "A Question Forms",
          "description": "You wonder about something but hesitate to ask."
        },
        {
          "stage_id": "asked",
          "name": "Question Asked",
          "description": "You overcame hesitation and asked.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 5 }
          ]
        },
        {
          "stage_id": "stayed_silent",
          "name": "Silence Kept",
          "description": "The question remained unasked."
        }
      ],
      "transitions": [
        {
          "from_stage": "wondering",
          "to_stage": "asked",
          "conditions": [{ "type": "any_relationship", "min_trust": 20 }],
          "probability": 0.6
        },
        {
          "from_stage": "wondering",
          "to_stage": "stayed_silent",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 100 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 300
      }
    },
    {
      "id": "micro_taking_break",
      "name": "Moment of Rest",
      "description": "Recognizing the need to pause",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Rest is productive",
        "domain": "self",
        "insight": "Rest is not laziness but wisdom.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "exhausted",
      "completion_stages": ["rested"],
      "failure_stages": ["pushed_through"],
      "stages": [
        {
          "stage_id": "exhausted",
          "name": "Feeling Drained",
          "description": "Your body and mind need rest."
        },
        {
          "stage_id": "rested",
          "name": "Rest Taken",
          "description": "You honored your need for rest.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": -20 },
            { "type": "modify_mood", "delta": 10 }
          ]
        },
        {
          "stage_id": "pushed_through",
          "name": "Rest Denied",
          "description": "You pushed through despite exhaustion.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 10 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "exhausted",
          "to_stage": "rested",
          "conditions": [
            { "type": "stress_threshold", "min": 50 },
            { "type": "personal_tick_elapsed", "ticks": 30 }
          ],
          "probability": 0.5
        },
        {
          "from_stage": "exhausted",
          "to_stage": "pushed_through",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 80 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_stress_threshold", "min": 60 }
        ],
        "cooldown_ticks": 500
      }
    },
    {
      "id": "micro_setting_boundary",
      "name": "Drawing a Line",
      "description": "Establishing a personal boundary",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Boundaries protect",
        "domain": "self",
        "insight": "Boundaries are not walls but healthy limits.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "boundary_needed",
      "completion_stages": ["boundary_set"],
      "failure_stages": ["boundary_crossed"],
      "stages": [
        {
          "stage_id": "boundary_needed",
          "name": "Limit Reached",
          "description": "Something pushes against your limits."
        },
        {
          "stage_id": "boundary_set",
          "name": "Line Drawn",
          "description": "You established your boundary.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": -10 },
            { "type": "modify_mood", "delta": 8 }
          ]
        },
        {
          "stage_id": "boundary_crossed",
          "name": "Boundary Violated",
          "description": "You let your limits be crossed.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 15 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "boundary_needed",
          "to_stage": "boundary_set",
          "conditions": [
            { "type": "wisdom_threshold", "min_wisdom": 8 },
            { "type": "personal_tick_elapsed", "ticks": 25 }
          ]
        },
        {
          "from_stage": "boundary_needed",
          "to_stage": "boundary_crossed",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 90 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 450
      }
    },
    {
      "id": "micro_celebrating_success",
      "name": "Savoring Victory",
      "description": "Taking time to celebrate an achievement",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Celebrate progress",
        "domain": "self",
        "insight": "Celebrating victories, however small, fuels future ones.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "achievement",
      "completion_stages": ["celebrated"],
      "failure_stages": ["dismissed"],
      "stages": [
        {
          "stage_id": "achievement",
          "name": "Something Accomplished",
          "description": "You achieved something. Will you celebrate?"
        },
        {
          "stage_id": "celebrated",
          "name": "Victory Savored",
          "description": "You took time to appreciate your success.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 20 },
            { "type": "queue_dream_hint", "dream_type": "memory_echo", "content_hint": "The sweet taste of accomplishment", "intensity": 0.3 }
          ]
        },
        {
          "stage_id": "dismissed",
          "name": "Moving On",
          "description": "You moved on without acknowledgment."
        }
      ],
      "transitions": [
        {
          "from_stage": "achievement",
          "to_stage": "celebrated",
          "conditions": [{ "type": "mood_threshold", "min": 10 }],
          "probability": 0.6
        },
        {
          "from_stage": "achievement",
          "to_stage": "dismissed",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 80 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_skill_mastery", "skill": "any", "min_level": 2 }
        ],
        "cooldown_ticks": 350
      }
    },
    {
      "id": "micro_sharing_joy",
      "name": "Sharing Happiness",
      "description": "Spreading joy to others",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Joy multiplies when shared",
        "domain": "relationships",
        "insight": "Shared joy is doubled joy.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "feeling_joy",
      "completion_stages": ["joy_shared"],
      "failure_stages": ["joy_kept"],
      "stages": [
        {
          "stage_id": "feeling_joy",
          "name": "Joy Bubbling",
          "description": "Happiness fills you. Share it?"
        },
        {
          "stage_id": "joy_shared",
          "name": "Joy Spread",
          "description": "Your happiness brightened another's day.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 10 },
            { "type": "modify_mood_factor", "factor": "social", "delta": 10 }
          ]
        },
        {
          "stage_id": "joy_kept",
          "name": "Joy Reserved",
          "description": "You kept your happiness to yourself."
        }
      ],
      "transitions": [
        {
          "from_stage": "feeling_joy",
          "to_stage": "joy_shared",
          "conditions": [
            { "type": "any_relationship", "min_trust": 15 },
            { "type": "personal_tick_elapsed", "ticks": 30 }
          ]
        },
        {
          "from_stage": "feeling_joy",
          "to_stage": "joy_kept",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 100 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_mood_threshold", "min": 50 }
        ],
        "cooldown_ticks": 400
      }
    },
    {
      "id": "micro_small_forgiveness",
      "name": "Letting Go of a Slight",
      "description": "Choosing to forgive a minor offense",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Forgiveness frees",
        "domain": "relationships",
        "insight": "Forgiveness is a gift you give yourself.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "slighted",
      "completion_stages": ["forgiven"],
      "failure_stages": ["grudge_held"],
      "stages": [
        {
          "stage_id": "slighted",
          "name": "Feeling Wronged",
          "description": "Someone did you wrong. Small, but it stings."
        },
        {
          "stage_id": "forgiven",
          "name": "Forgiveness Given",
          "description": "You chose to let it go.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": -8 },
            { "type": "modify_relationship_by_role", "role": "offender", "trust_delta": 2 }
          ]
        },
        {
          "stage_id": "grudge_held",
          "name": "Grudge Forming",
          "description": "The slight festers in memory.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 5 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "slighted",
          "to_stage": "forgiven",
          "conditions": [
            { "type": "wisdom_threshold", "min_wisdom": 5 },
            { "type": "personal_tick_elapsed", "ticks": 50 }
          ]
        },
        {
          "from_stage": "slighted",
          "to_stage": "grudge_held",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 150 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_relationship_change", "delta_threshold": -10 }
        ],
        "trigger_bindings": [
          { "role": "offender", "source": "trigger_target" }
        ],
        "cooldown_ticks": 400
      }
    },
    {
      "id": "micro_choosing_peace",
      "name": "Choosing Peace",
      "description": "Deciding not to escalate a conflict",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Peace is a choice",
        "domain": "relationships",
        "insight": "Peace requires courage, not weakness.",
        "wisdom_value": 1,
        "repeatable": true
      },
      "entry_stage": "conflict_brewing",
      "completion_stages": ["peace_chosen"],
      "failure_stages": ["escalated"],
      "stages": [
        {
          "stage_id": "conflict_brewing",
          "name": "Tension Rising",
          "description": "A conflict threatens to grow. Will you add fuel?"
        },
        {
          "stage_id": "peace_chosen",
          "name": "Peace Preserved",
          "description": "You chose not to escalate.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": -10 },
            { "type": "modify_mood", "delta": 5 }
          ]
        },
        {
          "stage_id": "escalated",
          "name": "Conflict Grew",
          "description": "The tension escalated.",
          "on_enter_effects": [
            { "type": "modify_stress", "delta": 12 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "conflict_brewing",
          "to_stage": "peace_chosen",
          "conditions": [
            { "type": "stress_threshold", "max": 60 },
            { "type": "personal_tick_elapsed", "ticks": 35 }
          ]
        },
        {
          "from_stage": "conflict_brewing",
          "to_stage": "escalated",
          "conditions": [{ "type": "stress_threshold", "min": 70 }]
        }
      ],
      "assignment_rules": {
        "triggers": [
          { "type": "on_emotional_state", "state": "frustrated", "min_duration_ticks": 15 }
        ],
        "cooldown_ticks": 350
      }
    },
    {
      "id": "micro_moment_clarity",
      "name": "A Flash of Insight",
      "description": "A sudden moment of understanding",
      "scale": "micro",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Insight strikes suddenly",
        "domain": "self",
        "insight": "Wisdom often arrives in unexpected moments.",
        "wisdom_value": 2,
        "repeatable": true
      },
      "entry_stage": "confused",
      "completion_stages": ["clarity"],
      "failure_stages": ["still_confused"],
      "stages": [
        {
          "stage_id": "confused",
          "name": "Struggling to Understand",
          "description": "Something puzzles you."
        },
        {
          "stage_id": "clarity",
          "name": "Understanding Dawns",
          "description": "Suddenly, it all makes sense.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 15 },
            { "type": "queue_dream_hint", "dream_type": "symbolic", "content_hint": "The pieces fall into place", "intensity": 0.5 }
          ]
        },
        {
          "stage_id": "still_confused",
          "name": "Confusion Remains",
          "description": "The puzzle persists."
        }
      ],
      "transitions": [
        {
          "from_stage": "confused",
          "to_stage": "clarity",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 60 }],
          "probability": 0.4
        },
        {
          "from_stage": "confused",
          "to_stage": "still_confused",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 200 }]
        }
      ],
      "assignment_rules": {
        "cooldown_ticks": 600
      }
    }
  ],
  "small_plot_templates": [
    {
      "id": "small_first_friendship",
      "name": "A New Friend",
      "description": "The journey of forming your first meaningful friendship",
      "scale": "small",
      "fork_behavior": "continue",
      "lesson": {
        "theme": "Connection and trust",
        "domain": "relationships",
        "insight": "True friendship requires vulnerability and time.",
        "wisdom_value": 3,
        "repeatable": false
      },
      "entry_stage": "alone",
      "completion_stages": ["friendship_formed"],
      "failure_stages": ["still_alone"],
      "stages": [
        {
          "stage_id": "alone",
          "name": "Before Friends",
          "description": "You have no close friends yet.",
          "stage_attractors": [
            {
              "attractor_id": "seek_connection",
              "goal": { "type": "relationship_formed", "parameters": {} },
              "strength": 0.4,
              "urgency": 0.3
            }
          ]
        },
        {
          "stage_id": "acquaintance",
          "name": "Meeting Someone",
          "description": "You have met someone who might become a friend.",
          "on_enter_effects": [
            { "type": "queue_dream_hint", "dream_type": "prophetic_vision", "content_hint": "A face keeps appearing in your thoughts", "intensity": 0.4 }
          ]
        },
        {
          "stage_id": "growing_closer",
          "name": "Growing Closer",
          "description": "Trust is building between you.",
          "stage_attractors": [
            {
              "attractor_id": "deepen_bond",
              "goal": { "type": "relationship_formed", "parameters": {} },
              "strength": 0.5,
              "urgency": 0.4
            }
          ]
        },
        {
          "stage_id": "friendship_formed",
          "name": "True Friends",
          "description": "You have found a real friend.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": 25 },
            { "type": "modify_mood_factor", "factor": "social", "delta": 20 },
            { "type": "prophetic_dream", "vision_content": "You see yourself and your new friend growing old together, sharing countless moments", "urgency": "medium" }
          ]
        },
        {
          "stage_id": "still_alone",
          "name": "Connection Lost",
          "description": "The potential friendship did not develop.",
          "on_enter_effects": [
            { "type": "modify_mood", "delta": -10 }
          ]
        }
      ],
      "transitions": [
        {
          "from_stage": "alone",
          "to_stage": "acquaintance",
          "conditions": [{ "type": "any_relationship", "min_trust": 10 }]
        },
        {
          "from_stage": "acquaintance",
          "to_stage": "growing_closer",
          "conditions": [{ "type": "any_relationship", "min_trust": 25, "min_affinity": 15 }]
        },
        {
          "from_stage": "growing_closer",
          "to_stage": "friendship_formed",
          "conditions": [{ "type": "any_relationship", "min_trust": 50, "min_affinity": 30 }]
        },
        {
          "from_stage": "acquaintance",
          "to_stage": "still_alone",
          "conditions": [{ "type": "personal_tick_elapsed", "ticks": 5000 }]
        },
        {
          "from_stage": "growing_closer",
          "to_stage": "still_alone",
          "conditions": [{ "type": "social_isolation", "min_ticks": 2000 }]
        }
      ],
      "assignment_rules": {
        "min_wisdom": 0,
        "triggers": [
          { "type": "on_social_isolation", "min_ticks": 500 }
        ],
        "max_concurrent": 1
      }
    }
  ],
  "medium_plot_templates": [],
  "large_plot_templates": []
}
